

<!--checking if data comes in -----
   <input 
  type="text" 
  placeholder="enter city..."
  (input)="searchCity($event.target.value)"
> -->
<ng-container>
  <div class="col-sm-12">
      <div class="card">
          <div class="card-header bg-info">
              <h4 class="card-title">Search Location</h4>
          </div>
          <!-- lookin to fix it after work...  I replaced it bat to regular form for now. .... -->
          <!-- <form novalidate class="d-flex align-items-center ml-auto" [formGroup]="form" (ngSubmit)="sendToAPI(formArray.value)"> -->
            <!-- *ngFor="let city of formArray.get('form').controls; let i = index" -->
            <!-- <ng-container  formArrayName="form" *ngFor="let city of formArray.controls; let i = index">
              <div [formGroupName]="i"> -->
          <div class="row" style="margin: auto;">
          <form novalidate class="col-12"
           [formGroup]="form" (ngSubmit)="sendToAPI(form.value)">
           
           <div class="input-group">
                <div class="col-4">
                <div class="form-group">
                  <label for="name">City</label>
                  <input type="search" id="name" class="form-control" 
                  placeholder="enter city..."
                   formControlName="name" required></div> 
                </div>
                <div class="col-4">
                  <div class="form-group"> 
                  <label for="temp">Units</label>
                  <input type="search" id="temp" class="form-control"
                   placeholder="enter units..." 
                  formControlName="temp" required>
                           <!-- <div [hidden]="weatherData.temp.valid || weatherData.temp.pristine"
                           class="alert alert-danger">
                            Units are required! please choose from <br>
                            metric, standard or ml
                           </div> -->
                  </div>    
                </div> 
                <div class="col-4">
                  <div class="form-group">
                  <button class="btn btn-warning"   
                    [disabled]="!form.valid" type="submit" 
                    (click)="onSave(form.value)">+</button>
                </div>    
              </div>     
            </div> 
          </form>
          
          <div class="container" *ngIf="weatherData != null">
            <div class="card results" *ngFor="let weather of weatherData">
              <h2>Your Search for {{weather.name}}</h2>
              <div class="row pt-5">  
             <div class="col">city: {{weather.name}}
              <img [src]="weatherIconURL + weather.weather[0].icon +'.png'">
              temp:  - {{weather.main.temp}} </div>
             </div>  
           
            </div>
          </div>
          </div>
      </div>
   </div>

</ng-container>          

<app-forecast-result></app-forecast-result>